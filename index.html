<!DOCTYPE html>
<html>
    <head>
        <title>Rock-Paper-Scissors</title>
        <meta charset="UTF-8">
    </head>
    <body>
        <script>
            // plays the game 5 times, against a random computer choice
            function game()
            {
                let score = 0;
                for (let i = 0; i < 5; i++) 
                {
                    let playerSelection;
                    // prompt for user input
                    // only accepts rock, paper or scissors
                    while (true)
                    {
                        playerSelection = window.prompt("Pick rock, paper or scissors!");
                        playerSelection = playerSelection.toLocaleLowerCase();
                        if (playerSelection == "rock" || playerSelection == "paper" || playerSelection == "scissors")
                        {
                            break;
                        }
                    }
                    // get random computer choice
                    const computerSelection = computerPlay();

                    console.log("Your choice: " + playerSelection + "\nComputer choice: " + computerSelection)
                    
                    const result = playRound(playerSelection, computerSelection);
                    // print the result of the round
                    if (result > 0)
                    {
                        console.log("You won!");
                    }
                    else if (result == 0) 
                    {
                        console.log("Its a draw!");
                    }
                    else if (result < 0)
                    {
                        console.log("You lost!");
                    }
                    else console.log(result);
                    
                    // add to final score
                    score += result;
                }
                // show the final result
                if (score > 0)
                    {
                        console.log("You won!");
                    }
                    else if (score == 0) 
                    {
                        console.log("Its a draw!");
                    }
                    else console.log("You lost!");
            }
            // randomly plays rock, papaer or scissors
            function computerPlay () 
            {
                // get a random number between 1 and 3
                let choice = Math.floor(Math.random() * 3 + 1);
                
                // displays the choice
                if (choice == 1) 
                {
                    return "Rock";
                } 
                else if (choice == 2)
                {
                    return "Paper";
                }
                else 
                {
                    return "Scissors";
                }
            }

            function playRound(playerSelection, computerSelection)
            {
                // make choice case insensetive
                playerSelection = playerSelection.toLowerCase();
                computerSelection = computerSelection.toLowerCase();

                if (playerSelection == "rock")
                {
                    if (computerSelection == "rock") 
                    {
                        return 0;
                    }
                    if (computerSelection == "paper") 
                    {
                        return -1;
                    }
                    if (computerSelection == "scissors") 
                    {
                        return 1;
                    }
                }
                else if (playerSelection == "paper")
                {
                    if (computerSelection == "rock") 
                    {
                        return 1;
                    }
                    if (computerSelection == "paper") 
                    {
                        return 0;
                    }
                    if (computerSelection == "scissors") 
                    {
                        return -1;
                    }
                }
                else if (playerSelection == "scissors")
                {
                    if (computerSelection == "rock") 
                    {
                        return -1;
                    }
                    if (computerSelection == "paper") 
                    {
                        return 1;
                    }
                    if (computerSelection == "scissors") 
                    {
                        return 0;
                    }
                }
            }

            game();
        </script>
    </body>
</html>